webpackJsonp([1],{"+VGo":function(t,e){},0:function(t,e,a){t.exports=a("NHnr")},"5nNB":function(t,e){},"6sst":function(t,e){},BzdS:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("/5sW"),s={name:"app"},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=a("XyMi");function c(t){a("+VGo")}var l=!1,u=c,m=null,p=null,h=Object(r["a"])(s,o,i,l,u,m,p),d=h.exports,g=a("/ocq"),f={data:function(){return{continents:{learn:!1}}},methods:{getContinentsLearn:function(){this.continents.learn=!this.continents.learn}}},v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"start"},[a("div",{staticClass:"left"},[a("p",[t._v("In this mode you have 5 attempts to guess the country. After 5 wrong attempts the game will over. If you guess right, you will play an extra game of guessing the capital of this country. Each right country and capital will give you 1 point.")]),a("router-link",{staticClass:"btn",attrs:{to:"/game",tag:"button"}},[t._v("Game")])],1),a("div",{staticClass:"right"},[a("p",[t._v("In this mode you have unlimited attempts to guess the country. After 5 wrong attempts the right country will change its color a bit to easily find it.")]),a("div",{staticClass:"learnButtons"},[a("router-link",{staticClass:"btn",attrs:{to:"/learn/full",tag:"button"}},[t._v("Learn")]),a("button",{staticClass:"btn byContinent",on:{click:t.getContinentsLearn}},[t._v("By continent")]),a("div",{staticClass:"buttons",class:t.continents.learn?"active":""},[a("router-link",{staticClass:"btn",attrs:{to:"/learn/europe",tag:"button"}},[t._v("Europe")]),a("router-link",{staticClass:"btn",attrs:{to:"/learn/asia",tag:"button"}},[t._v("Asia")]),a("router-link",{staticClass:"btn",attrs:{to:"/learn/africa",tag:"button"}},[t._v("Africa")]),a("router-link",{staticClass:"btn",attrs:{to:"/learn/na",tag:"button"}},[t._v("North America")]),a("router-link",{staticClass:"btn",attrs:{to:"/learn/sa",tag:"button"}},[t._v("South America")]),a("router-link",{staticClass:"btn",attrs:{to:"/learn/oceania",tag:"button"}},[t._v("Oceania")])],1)],1)])])},_=[];function b(t){a("6sst")}var C=!1,y=b,w="data-v-763ee6f8",j=null,k=Object(r["a"])(f,v,_,C,y,w,j),A=k.exports,x=a("rzQm"),O=a.n(x),S=(a("uDYd"),a("EuXz"),a("MdIv")),M=a.n(S),E=n["a"].component("modal",{data:function(){return{best_score:0}},created:function(){"full"===this.name&&(localStorage.getItem("best_score")?this.score>+localStorage.getItem("best_score")?(this.best_score=this.score,localStorage.setItem("best_score",this.best_score)):this.best_score=+localStorage.getItem("best_score"):(this.best_score=this.score,localStorage.setItem("best_score",this.best_score)))},props:{mode:{type:String,required:!1},reason:{type:String,required:!0},score:{type:Number,required:!0,default:0}},computed:{name:function(){return this.$route.params.name},fullName:function(){switch(this.name){case"europe":return"European";case"asia":return"Asian";case"africa":return"African";case"na":return"North American";case"sa":return"South American";case"oceania":return"Oceanian"}}}}),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-outer"},[n("div",{staticClass:"modal-backdrop"}),n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-content"},["learn"===t.mode&&"full"===t.name?n("div",[t._m(0),n("div",{staticClass:"learnt"},[t._v("\n          You have learnt all countries. You are now ready for exciting game!\n        ")])]):"learn"===t.mode&&"full"!==t.name?n("div",[t._m(1),n("div",{staticClass:"learnt"},[t._v("\n          You have learnt all "+t._s(t.fullName)+" countries.\n        ")])]):n("div",["lose"===t.reason?n("div",{staticClass:"status lose"},[n("img",{attrs:{src:a("VC5H"),height:"24",width:"24"}}),t._v("\n          You lose\n        ")]):n("div",{staticClass:"status win"},[n("img",{attrs:{src:a("sGYy"),height:"24",width:"24"}}),t._v("\n          Congratulations! You win!\n        ")]),n("div",{staticClass:"score"},[t._v("\n          Your score: \n          "),n("span",{class:t.score>=t.best_score?"green":"tomato"},[t._v(t._s(t.score))])]),n("div",{staticClass:"best-score"},[t._v("\n          Your best score: "+t._s(t.best_score)+"\n        ")])]),n("router-link",{staticClass:"btn",attrs:{to:"/",tag:"button"}},[t._v("Home")])],1)])])},$=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"status learn"},[n("img",{attrs:{src:a("sGYy"),height:"24",width:"24"}}),t._v("\n          Congratulations!\n        ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"status learn"},[n("img",{attrs:{src:a("sGYy"),height:"24",width:"24"}}),t._v("\n          Congratulations!\n        ")])}];function q(t){a("BzdS")}var G=!1,z=q,N="data-v-6c70aba0",Y=null,I=Object(r["a"])(E,B,$,G,z,N,Y),H=I.exports,L={data:function(){return{answered:!1,end:!1}},props:{country:{type:String,required:!0},capitals:{type:Array,required:!0},rightCapital:{type:String},check:{type:Function}},methods:{answer:function(t){this.end=!this.end,this.capitals[t].name===this.rightCapital?(this.capitals[t].isAnswered="right",this.answered=!0):this.capitals[t].isAnswered="wrong"}}},F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-outer"},[n("div",{staticClass:"modal-backdrop"}),n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-content",class:t.end?"end":"start"},[n("div",{staticClass:"status"},[n("img",{attrs:{src:a("SGXc"),height:"24",width:"24"}}),t._v("\n        What is the capital of "+t._s(t.country)+"?\n      ")]),n("div",{staticClass:"capitals"},t._l(t.capitals,function(e,a){return n("button",{key:a,staticClass:"btn",class:"right"===e.isAnswered?"right":"wrong"===e.isAnswered?"wrong":"",attrs:{disabled:t.end},on:{click:function(e){t.answer(a)},animationend:function(e){t.check(t.answered)}}},[t._v(t._s(e.name))])}))])])])},T=[];function X(t){a("nFe1")}var R=!1,J=X,V="data-v-0fce1f5e",P=null,W=Object(r["a"])(L,F,T,R,J,V,P),D=W.exports,Q=n["a"].component("Map",{data:function(){return{options:{geojson:{stroke:!0,fill:!0,strokeColor:"#000",color:"#000",fillColor:"#fff",fillOpacity:1,onEachFeature:this.onEachFeature}},countries:[],game:{count:0,attempts:5,score:0},layers:[],animation:!1,attempts_animation:!1,right:!1,capitals:[]}},created:function(){for(var t=0;t<this.geojson.length;t++)this.countries.push({name:this.geojson[t].properties.name,capital:this.geojson[t].properties.capital});this.countries.sort(this.compareRandom)},props:{mode:{type:String,required:!0},geojson:{required:!0},mapOptions:{type:Object,required:!0}},methods:{onEachFeature:function(t,e){var a=this;e.bindPopup(this.popup(e)),this.layers.push(e),e.on("click",function(){a.show(e)},this)},show:function(t){if(this.capitals=[],t.feature.properties.name===this.countries[this.game.count].name){while(this.capitals.length<3){var e=Math.floor(Math.random()*this.countries.length);this.capitals.indexOf(e)>-1||this.countries[e].capital!==this.countries[this.game.count].capital&&this.capitals.push({name:this.countries[e].capital,isAnswered:!1})}this.capitals.push({name:this.countries[this.game.count].capital,isAnswered:!1}),this.capitals.sort(this.compareRandom),"game"===this.mode?this.right=!0:(this.animation=!0,this.game.count++,this.game.attempts=5),this.game.score++,t.setStyle({fillColor:this.randomColor()})}else if(this.attempts_animation=!0,this.game.attempts--,"learn"===this.mode&&0===this.game.attempts)for(var a=0;a<this.layers.length;a++)if(this.layers[a].feature.properties.name===this.countries[this.game.count].name){this.layers[a].setStyle({fillOpacity:.5}),this.$refs.map.mapObject.flyTo({lat:this.layers[a]._bounds._northEast.lat,lng:this.layers[a]._bounds._northEast.lng},4);break}},checkCapital:function(t){t&&this.game.score++,this.right=!1,this.animation=!0,this.game.count++,this.game.attempts=5},compareRandom:function(){return Math.random()-.5},randomColor:function(){return"rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")},popup:function(t){return t.feature.properties.name},endAnime:function(){this.animation=!1},endAttemptsAnime:function(){this.attempts_animation=!1}},components:{"v-map":M.a.Map,"v-geojson":M.a.GeoJSON,Modal:H,Capital:D}}),Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"map"}},[0===t.game.attempts&&"game"===t.mode?a("Modal",{attrs:{reason:"lose",score:t.game.score}}):t._e(),t.game.count===t.countries.length?a("Modal",{attrs:{mode:t.mode,reason:"win",score:t.game.score}}):t._e(),t.right&&"game"===t.mode?a("Capital",{attrs:{country:t.countries[t.game.count].name,capitals:t.capitals,rightCapital:t.countries[t.game.count].capital,check:t.checkCapital}}):t._e(),"game"===t.mode?a("div",{staticClass:"notification",class:t.animation?"animation":"",on:{animationend:t.endAnime}},[a("div",{staticClass:"score"},[t._v("\n      Score: "+t._s(t.game.score)+"\n    ")]),t.game.count!==t.countries.length?a("div",{staticClass:"country"},[t._v("\n      "+t._s(t.countries[t.game.count].name)+"\n    ")]):t._e(),a("div",{staticClass:"attempts"},[t._v("\n      Attempts: "),a("span",{class:t.attempts_animation?"attempts_animation":"",on:{animationend:t.endAttemptsAnime}},[t._v(t._s(t.game.attempts))])])]):"learn"===t.mode&&t.game.count!==t.countries.length?a("div",{staticClass:"learn_notification",class:t.animation?"animation":"",on:{animationend:t.endAnime}},[t._v("\n    "+t._s(t.countries[t.game.count].name)+"\n  ")]):t._e(),a("v-map",{ref:"map",staticClass:"fullHeight",attrs:{minZoom:2,options:t.mapOptions}},[a("v-geojson",{attrs:{geojson:t.geojson,options:t.options.geojson}})],1)],1)},K=[];function U(t){a("5nNB")}var tt=!1,et=U,at="data-v-4563863a",nt=null,st=Object(r["a"])(Q,Z,K,tt,et,at,nt),ot=st.exports,it={data:function(){return{geojson:[],options:{zoom:2,center:[0,0],maxBounds:[[90,-180],[-58.995311187950925,223.2421875]]},loaded:!1}},created:function(){this.getContinent()},methods:{getContinent:function(){var t=this,e=new XMLHttpRequest;e.open("GET","../json/full.geo.json",!0),e.onload=function(){200===e.status?(t.geojson=O()(JSON.parse(e.responseText).features),t.loaded=!0):t.loaded=!0},e.send()}},components:{Map:ot}},rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("Map",{attrs:{mode:"game",geojson:t.geojson,mapOptions:t.options}}):t._e()},ct=[],lt=!1,ut=null,mt=null,pt=null,ht=Object(r["a"])(it,rt,ct,lt,ut,mt,pt),dt=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},ft=[],vt=null,_t=!1,bt=null,Ct=null,yt=null,wt=Object(r["a"])(vt,gt,ft,_t,bt,Ct,yt),jt=wt.exports,kt=a("Biqn"),At=a.n(kt),xt={data:function(){return{geojson:[],options:{},loaded:!1}},props:{mode:{type:String}},created:function(){this.getContinent(),this.getOptions()},computed:{name:function(){return this.$route.params.name}},methods:{getContinent:function(){var t=this,e=new XMLHttpRequest;e.open("GET","../json/".concat(this.name,".geo.json"),!0),e.onload=function(){200===e.status?(t.geojson=O()(JSON.parse(e.responseText).features),t.loaded=!0):t.loaded=!0},e.send()},getOptions:function(){switch(this.name){case"full":this.options=At()({},{zoom:2,center:[0,0],maxBounds:[[90,-180],[-58.995311187950925,223.2421875]]});break;case"europe":this.options=At()({},{zoom:3,center:[60,60],maxBounds:[[90,-180],[-58.995311187950925,223.2421875]]});break;case"asia":this.options=At()({},{zoom:3,center:[30,120],maxBounds:[[90,-180],[-58.995311187950925,223.2421875]]});break;case"africa":this.options=At()({},{zoom:3,center:[0,30],maxBounds:[[90,-180],[-58.995311187950925,223.2421875]]});break;case"na":this.options=At()({},{zoom:3,center:[50,-150],maxBounds:[[90,-180],[-58.995311187950925,223.2421875]]});break;case"sa":this.options=At()({},{zoom:3,center:[-60,-120],maxBounds:[[90,-180],[-58.995311187950925,223.2421875]]});break;case"oceania":this.options=At()({},{zoom:4,center:[-30,150],maxBounds:[[90,-180],[-58.995311187950925,223.2421875]]});break}}},components:{Map:ot}},Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("Map",{attrs:{mode:t.mode,geojson:t.geojson,mapOptions:t.options}}):t._e()},St=[],Mt=!1,Et=null,Bt=null,$t=null,qt=Object(r["a"])(xt,Ot,St,Mt,Et,Bt,$t),Gt=qt.exports;n["a"].use(g["a"]);var zt=new g["a"]({mode:"history",base:"/",linkActiveClass:"active",routes:[{name:"Start",path:"/",component:A},{name:"Game",path:"/game",component:dt},{name:"Learn",path:"/learn",component:jt,redirect:"/learn/full",children:[{path:"/learn/:name",component:Gt,name:"LearnContinent",props:{mode:"learn"}}]}]});n["a"].router=zt,n["a"].config.productionTip=!1,new n["a"]({router:zt,render:function(t){return t(d)}}).$mount("#app")},SGXc:function(t,e,a){t.exports=a.p+"img/question-mark.885ff8fd.svg"},VC5H:function(t,e,a){t.exports=a.p+"img/cross.6524033e.svg"},nFe1:function(t,e){},sGYy:function(t,e,a){t.exports=a.p+"img/correct-symbol.657dcff3.svg"}},[0]);
//# sourceMappingURL=app.13aadeb4.js.map
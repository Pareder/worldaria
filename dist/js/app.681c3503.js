webpackJsonp([1],{"+VGo":function(t,e){},"/hsv":function(t,e,n){t.exports=n.p+"img/cancel.e85191c6.svg"},0:function(t,e,n){t.exports=n("NHnr")},1:function(t,e){},"4FJj":function(t,e,n){t.exports=n.p+"img/information.8aac99e3.svg"},"67hl":function(t,e){},"7zsZ":function(t,e){},"8hBT":function(t,e){},AYHs:function(t,e){},Capp:function(t,e){},EHx1:function(t,e,n){t.exports=n.p+"img/down.cac6238e.svg"},FO3C:function(t,e){},FfLQ:function(t,e,n){t.exports=n.p+"img/saved.088fd169.svg"},I0v0:function(t,e,n){t.exports=n.p+"media/earth3.489e5373.mp4"},IbWc:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("/5sW"),o=(n("VjuZ"),n("MfeA"),n("EuXz"),n("hMcO")),a=n.n(o),i={props:{opponent:{type:String},makeDecision:{type:Function}}},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal-backdrop"}),n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"status"},[t._v("\n        You have been invited to game by "),n("span",{staticClass:"opponentColor"},[t._v(t._s(t.opponent))])])]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"btn--invite btn--blue",on:{click:function(e){t.makeDecision(!0)}}},[t._v("Accept")]),n("button",{staticClass:"btn--invite btn--red",on:{click:function(e){t.makeDecision(!1)}}},[t._v("Decline")])])])])},c=[],l=n("XyMi");function u(t){n("wTyE")}var d=!1,m=u,h="data-v-ae1fe1a8",p=null,v=Object(l["a"])(i,r,c,d,m,h,p),g=v.exports;s["a"].use(a.a,Object({NODE_ENV:"production",BASE_URL:"/"}).PORT?"0.0.0.0".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).PORT):"http://worldaria.herokuapp.com:5000");var f={name:"app",data:function(){return{nickname:"",isInvited:!1,opponent:""}},mounted:function(){this.getCookie("name")&&(this.nickname=JSON.parse(this.getCookie("name")).name,this.$socket.emit("sendName",this.nickname))},methods:{getCookie:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},makeDecision:function(t){this.$socket.emit("makeDecision",{myName:this.nickname,opponentName:this.opponent,status:t}),t&&this.$router.push({name:"Online",params:{chooseOpponent:!1}}),this.isInvited=!1}},sockets:{getInvite:function(t){this.isInvited=!0,this.opponent=t.myName,this.nickname!==t.opponentName&&(this.nickname=t.opponentName,console.log(t))},declineInvite:function(){this.isInvited=!1}},components:{Invite:g}},_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),t.isInvited?n("Invite",{attrs:{opponent:t.opponent,makeDecision:t.makeDecision}}):t._e()],1)},y=[];function C(t){n("+VGo")}var b=!1,k=C,w=null,j=null,M=Object(l["a"])(f,_,y,b,k,w,j),S=M.exports,x=n("/ocq"),E={props:{close:{type:Function}}},$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"modal-backdrop",on:{click:t.close}}),s("div",{staticClass:"modal"},[s("div",{staticClass:"modal-content"},[s("img",{staticClass:"cancel",attrs:{src:n("/hsv")},on:{click:function(e){return e.preventDefault(),t.close(e)}}}),s("div",{staticClass:"status"},[t._v("Choose bot difficulty")]),s("div",{staticClass:"buttons"},[s("router-link",{staticClass:"btn btn--small",attrs:{to:{name:"Bot",params:{chance:.3}},tag:"button"}},[t._v("Easy")]),s("router-link",{staticClass:"btn btn--small",attrs:{to:{name:"Bot",params:{chance:.8}},tag:"button"}},[t._v("Hard")]),s("router-link",{staticClass:"btn btn--small",attrs:{to:{name:"Bot",params:{chance:.95}},tag:"button"}},[t._v("Extreme")])],1)])])])},O=[];function N(t){n("fkd6")}var L=!1,I=N,A="data-v-820ca7f4",D=null,F=Object(l["a"])(E,$,O,L,I,A,D),G=F.exports,T=n("L6bb"),B=n.n(T),R=n("Sazm"),P=Object(R["initializeApp"])({apiKey:"AIzaSyDDdp4R4-LEcTuEvSq5OigTJAiFt20tpcI",authDomain:"worldaria-ebeba.firebaseapp.com",databaseURL:"https://worldaria-ebeba.firebaseio.com",projectId:"worldaria-ebeba",storageBucket:"worldaria-ebeba.appspot.com",messagingSenderId:"170761938430"}),U=P.database(),H=(P.auth(),U.ref("users")),z={data:function(){return{nickname:"",authUser:!1,error:{smallName:!1,longName:!1,signIn:!1},animationNickname:!1}},props:{toggleSignError:{type:Function},setNickname:{type:Function}},created:function(){this.getCookie("name")&&(this.authUser=!0,this.nickname=JSON.parse(this.getCookie("name")).name)},methods:{signIn:function(){if(this.nickname.length>2&&this.nickname.length<20){this.toggleSignError(),this.setNickname(this.nickname);var t=new Date((new Date).getTime()+6e7);H.child(B()(this.nickname+t.toUTCString())).set({name:this.nickname}),this.authUser=!0,this.animationNickname=!0,this.setCookie(t),this.$socket.emit("sendName",this.nickname)}else this.nickname.length<3&&(this.error.smallName=!0)},signOut:function(){this.deleteCookie(),this.nickname="",this.setNickname(this.nickname),this.authUser=!1,this.animationNickname=!1,this.$socket.emit("signOut",this.nickname)},inputName:function(){this.nickname.length>20?(this.nickname=this.nickname.slice(0,-1),this.error.longName=!0):this.error.smallName&&this.nickname.length>2?this.error.smallName=!1:this.error.longName=!1},getCookie:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},setCookie:function(t){document.cookie="name=".concat(JSON.stringify({name:this.nickname,hash:B()(this.nickname+t.toUTCString())}),"; path=/; expires=").concat(t.toUTCString())},deleteCookie:function(){var t=new Date((new Date).getTime()+-1e3);document.cookie='name=""; path=/; expires='.concat(t.toUTCString())}}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.authUser?n("div",{staticClass:"sign"},[n("div",{staticClass:"formSign"},[n("span",{staticClass:"nickname",class:t.animationNickname?"animationNickname":""},[t._v(t._s(t.nickname))]),n("button",{staticClass:"btn btn--sign",on:{click:t.signOut}},[t._v("Sign out")])])]):n("div",{staticClass:"sign"},[n("div",{staticClass:"formSign",on:{keypress:function(e){return"button"in e||13===e.keyCode?(e.preventDefault(),t.signIn(e)):null}}},[t.error.smallName?n("div",{staticClass:"error"},[t._v("* name - more 2 letters")]):t.error.longName?n("div",{staticClass:"error"},[t._v("* name - less 20 letters")]):t._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"signIn",attrs:{type:"text",placeholder:"Nickname"},domProps:{value:t.nickname},on:{input:[function(e){e.target.composing||(t.nickname=e.target.value)},t.inputName],keypress:function(e){return"button"in e||13===e.keyCode?(e.preventDefault(),t.signIn(e)):null}}}),n("button",{staticClass:"btn btn--sign",on:{click:t.signIn}},[t._v("Sign in")])])])])},J=[];function W(t){n("bDHe")}var q=!1,V=W,Z="data-v-6c68f3d3",X=null,K=Object(l["a"])(z,Y,J,q,V,Z,X),Q=K.exports,tt={data:function(){return{nickname:"",difficulty:!1,signInError:!1}},created:function(){this.getCookie("name")&&(this.nickname=JSON.parse(this.getCookie("name")).name)},beforeRouteLeave:function(t,e,n){"/online"!==t.path||this.nickname?n():this.signInError=!0},methods:{getCookie:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},setNickname:function(t){this.nickname=t},chooseDifficulty:function(){this.difficulty=!0},closeModal:function(){this.difficulty=!1},toggleSignError:function(){this.signInError=!1}},components:{BotDifficulty:G,SignForm:Q}},et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"start-page"},[t.difficulty?s("BotDifficulty",{attrs:{close:t.closeModal}}):t._e(),s("video",{staticClass:"video-bg",attrs:{preload:"auto",muted:"",autoplay:"",loop:"loop"},domProps:{muted:!0}},[s("source",{attrs:{src:n("I0v0"),type:"video/mp4"}})]),s("div",{staticClass:"brand"},[s("h1",{staticClass:"brand__name"},[t._v("Worldaria")]),s("SignForm",{attrs:{toggleSignError:t.toggleSignError,setNickname:t.setNickname}})],1),s("div",{staticClass:"start"},[s("div",{staticClass:"left"},[t._m(0),s("router-link",{staticClass:"btn btn--start",attrs:{to:"/game",tag:"button"}},[t._v("Play")]),t._m(1),s("router-link",{staticClass:"btn btn--start",attrs:{to:"/hard",tag:"button"}},[t._v("Hard")]),s("div",{staticClass:"buttons"},[s("div",[t._m(2),s("div",{staticClass:"btn--online"},[t.signInError?s("div",{staticClass:"error error--sign"},[t._v("* sign in to play online")]):t._e(),s("router-link",{staticClass:"btn btn--start",attrs:{to:"/online",tag:"button"}},[t._v("Online")])],1)]),s("div",[t._m(3),s("button",{staticClass:"btn btn--start",on:{click:t.chooseDifficulty}},[t._v("Bot")])])]),s("p",{staticClass:"mb0"},[t._v("Play countries by their population")]),s("div",{staticClass:"buttons"},[s("router-link",{staticClass:"btn btn--start btn--small mt",attrs:{to:{name:"Game",params:{sort:5e6}},tag:"button"}},[t._v("> 5 m")]),s("router-link",{staticClass:"btn btn--start btn--small mt",attrs:{to:{name:"Game",params:{sort:1e7}},tag:"button"}},[t._v("> 10 m")]),s("router-link",{staticClass:"btn btn--start btn--small mt",attrs:{to:{name:"Game",params:{sort:5e7}},tag:"button"}},[t._v("> 50 m")])],1)],1),s("div",{staticClass:"right"},[t._m(4),s("router-link",{staticClass:"btn btn--start",attrs:{to:"/learn/full",tag:"button"}},[t._v("Learn")]),s("p",{staticClass:"mb0"},[t._v("Learn countries by")]),s("div",{staticClass:"buttons"},[s("router-link",{staticClass:"btn btn--start mt",attrs:{to:"/learn/continent",tag:"button"}},[t._v("Continents")]),s("router-link",{staticClass:"btn btn--start mt",attrs:{to:"/learn/countries",tag:"button"}},[t._v("Regions")])],1),t._m(5),s("router-link",{staticClass:"btn btn--start",attrs:{to:"/learn/details",tag:"button"}},[t._v("Details")]),t._m(6),s("router-link",{staticClass:"btn btn--start",attrs:{to:"/learn/history",tag:"button"}},[t._v("History")])],1)])],1)},nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mode game-mode"},[s("span",{staticClass:"mode_name"},[t._v("\n          Game mode\n          "),s("img",{attrs:{src:n("4FJj"),width:"24",height:"24"}})]),s("div",{staticClass:"hidden"},[s("p",{staticClass:"px5"},[t._v("In Game mode you have 5 attempts for each country. If you mark right, you will need to guess the capital of that country. Each right country and capital will give you 1 point. After 5 wrong attempts you will lose 1 point.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mode hard-mode"},[s("span",{staticClass:"mode_name"},[t._v("\n          Hard mode\n          "),s("img",{attrs:{src:n("4FJj"),width:"24",height:"24"}})]),s("div",{staticClass:"hidden"},[s("p",{staticClass:"px5"},[t._v("In Hard mode you have only 10 seconds on each country. No capital guessing in this mode. After 10 seconds you will lose 1 point.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mode online-mode"},[s("span",{staticClass:"mode_name"},[t._v("\n              Online mode\n              "),s("img",{attrs:{src:n("4FJj"),width:"24",height:"24"}})]),s("div",{staticClass:"hidden"},[s("p",{staticClass:"px5"},[t._v("In Online mode you will play with real person one by one. Each player has 10 seconds to guess the country. After 5 wrong attempts you will not lose points.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mode online-mode"},[s("span",{staticClass:"mode_name"},[t._v("\n              Bot mode\n              "),s("img",{attrs:{src:n("4FJj"),width:"24",height:"24"}})]),s("div",{staticClass:"hidden"},[s("p",{staticClass:"px5"},[t._v("In Bot mode you will play with bot, whose difficulty you can choose. You have 10 seconds to guess the country.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mode learn-mode"},[s("span",{staticClass:"mode_name"},[t._v("\n          Learn mode\n          "),s("img",{attrs:{src:n("4FJj"),width:"24",height:"24"}})]),s("div",{staticClass:"hidden"},[s("p",{staticClass:"px5"},[t._v("In Learn mode you have unlimited attempts. After 5 wrong attempts the right country will be accentuated. You can use search bar to find the right country.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mode details-mode"},[s("span",{staticClass:"mode_name"},[t._v("\n          Details mode\n          "),s("img",{attrs:{src:n("4FJj"),width:"24",height:"24"}})]),s("div",{staticClass:"hidden"},[s("p",{staticClass:"px5"},[t._v("In Details mode you can learn additional information about countries.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mode history-mode"},[s("span",{staticClass:"mode_name"},[t._v("\n          History mode\n          "),s("img",{attrs:{src:n("4FJj"),width:"24",height:"24"}})]),s("div",{staticClass:"hidden"},[s("p",{staticClass:"px5"},[t._v("In History mode you can learn historical countries.")])])])}];function st(t){n("hKTw"),n("67hl")}var ot=!1,at=st,it="data-v-e01a801c",rt=null,ct=Object(l["a"])(tt,et,nt,ot,at,it,rt),lt=ct.exports,ut=n("rzQm"),dt=n.n(ut),mt=(n("uDYd"),{props:{getSaved:{type:Function}},methods:{deleteStorage:function(){localStorage.removeItem("guessed"),this.getSaved()}}}),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal-backdrop"}),n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-content start"},[t._m(0),n("div",{staticClass:"buttons"},[n("button",{staticClass:"btn",on:{click:t.getSaved}},[t._v("Continue")]),n("button",{staticClass:"btn",on:{click:t.deleteStorage}},[t._v("New")])])])])])},pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status"},[s("span",[s("img",{attrs:{src:n("FfLQ"),width:"32",height:"32"}}),t._v("\n          You have saved game.\n        ")]),s("span",[t._v("Do you want to continue?")])])}];function vt(t){n("8hBT")}var gt=!1,ft=vt,_t="data-v-18da119c",yt=null,Ct=Object(l["a"])(mt,ht,pt,gt,ft,_t,yt),bt=Ct.exports,kt=(n("gbyG"),n("Gh7F"),U.ref("users")),wt=s["a"].component("modal",{data:function(){return{best_score:0,nickname:"Anonymous",hash:""}},created:function(){var t=this;if("game"===this.mode&&(this.getBestScore(),this.getCookie("name")&&!this.$route.params.sort)){var e=JSON.parse(this.getCookie("name"));this.hash=e.hash,this.nickname=e.name;var n=kt.child(e.hash+"/score");n.on("value",function(n){if(n.val()<t.score){var s=(new Date).toUTCString();kt.child(e.hash).update({score:t.score,scoreDate:s})}})}},firebase:{leaderboard:kt.orderByChild("score").limitToLast(5)},props:{mode:{type:String,required:!1},reason:{type:String,required:!0},score:{type:Number,default:0}},computed:{name:function(){return this.$route.params.name},fullName:function(){switch(this.name){case"full":return"countries";case"europe":return"European countries";case"asia":return"Asian countries";case"africa":return"African countries";case"na":return"North American countries";case"sa":return"South American countries";case"oceania":return"Oceanian countries";default:return"regions"}}},methods:{getBestScore:function(){localStorage.getItem("best_score")?this.score>+localStorage.getItem("best_score")?(this.best_score=this.score,localStorage.setItem("best_score",this.best_score)):this.best_score=+localStorage.getItem("best_score"):(this.best_score=this.score,localStorage.setItem("best_score",this.best_score))},getCookie:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},reverseLeaders:function(t){return t.slice().reverse()}}}),jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"modal-backdrop"}),s("div",{staticClass:"modal"},[s("div",{staticClass:"modal-content"},["learn"===t.mode&&"full"===t.name?s("div",[s("div",{staticClass:"status learn"},[s("img",{attrs:{src:n("sGYy"),height:"24",width:"24"}}),t._v("\n          Congratulations, "+t._s(t.nickname)+"!\n        ")]),s("div",{staticClass:"learnt"},[t._v("\n          You have learnt all countries. You are now ready for exciting game!\n        ")])]):"learn"===t.mode&&"full"!==t.name?s("div",[s("div",{staticClass:"status learn"},[s("img",{attrs:{src:n("sGYy"),height:"24",width:"24"}}),t._v("\n          Congratulations, "+t._s(t.nickname)+"!\n        ")]),s("div",{staticClass:"learnt"},[t._v("\n          You have learnt all "+t._s(t.fullName)+".\n        ")])]):s("div",[s("div",{staticClass:"status win"},[s("img",{attrs:{src:n("sGYy"),height:"24",width:"24"}}),t._v("\n          Congratulations, "+t._s(t.nickname)+"!\n          "),s("br"),t._v("\n          You win!\n        ")]),s("div",{staticClass:"score"},[t._v("\n          Your score: \n          "),s("span",{class:t.score>=t.best_score?"green":"tomato"},[t._v(t._s(t.score))])]),s("div",{staticClass:"best-score"},[t._v("\n          Your best score: "+t._s(t.best_score)+"\n        ")]),this.$route.params.sort?t._e():s("div",{staticClass:"leaderboard"},[s("h1",[t._v("Leaderboard")]),s("ol",t._l(t.reverseLeaders(t.leaderboard),function(e,n){return s("li",{key:n,class:e[".key"]===t.hash?"leader":""},[s("mark",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.score)+" | "+t._s(e.scoreDate?new Date(e.scoreDate).toLocaleDateString():""))])])})),s("router-link",{staticClass:"btn btn--mobile",attrs:{to:"/",tag:"button"}},[t._v("Home")])],1)])])])])},Mt=[];function St(t){n("uKhV")}var xt=!1,Et=St,$t="data-v-11f68c4c",Ot=null,Nt=Object(l["a"])(wt,jt,Mt,xt,Et,$t,Ot),Lt=Nt.exports,It=n("Biqn"),At=n.n(It),Dt=n("MdIv"),Ft=n.n(Dt),Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("router-link",{attrs:{to:"/",tag:"img",src:"../img/back.svg",width:"32",height:"32"}})],1)},Tt=[];function Bt(t){n("OWUD")}var Rt=null,Pt=!1,Ut=Bt,Ht=null,zt=null,Yt=Object(l["a"])(Rt,Gt,Tt,Pt,Ut,Ht,zt),Jt=Yt.exports,Wt={data:function(){return{options:{map:{zoom:2,center:[40,0],maxBounds:[[90,-180],[-60,225]]},geojson:{stroke:!0,fill:!0,strokeColor:"#000",color:"#000",fillColor:"#fff",fillOpacity:1,onEachFeature:this.onEachFeature}}}},props:{geojson:{type:Array},onEachFeature:{type:Function},mapOptions:{type:Object}},created:function(){"/learn/history"!==this.$route.path&&"/learn/details"!==this.$route.path||(this.options.geojson.fillColor="rgba(255, 255, 255, 0.5)"),this.$parent.$on("zoomCountry",this.zoom)},methods:{zoom:function(t){this.$refs.map.mapObject.flyTo(At()({},t),6)}},components:{"v-map":Ft.a.Map,"v-geojson":Ft.a.GeoJSON,HomeButton:Jt}},qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-map",{ref:"map",staticClass:"fullHeight",attrs:{minZoom:2,options:t.mapOptions?t.mapOptions:t.options.map}},[n("HomeButton"),n("v-geojson",{attrs:{geojson:t.geojson,options:t.options.geojson}})],1)},Vt=[],Zt=!1,Xt=null,Kt=null,Qt=null,te=Object(l["a"])(Wt,qt,Vt,Zt,Xt,Kt,Qt),ee=te.exports,ne={data:function(){return{answered:!1,end:!1}},props:{country:{type:String,required:!0},capitals:{type:Array,required:!0},rightCapital:{type:String},check:{type:Function}},methods:{answer:function(t){var e=this;this.end=!0,this.capitals[t].name===this.rightCapital?(this.capitals[t].isAnswered="right",this.answered=!0):this.capitals[t].isAnswered="wrong",setTimeout(function(){e.check(e.answered)},2e3)}}},se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-outer"},[s("div",{staticClass:"modal-backdrop"}),s("div",{staticClass:"modal"},[s("div",{staticClass:"modal-content",class:t.end?"end":"start"},[s("div",{staticClass:"status"},[s("img",{attrs:{src:n("SGXc"),height:"24",width:"24"}}),t._v("\n        What is the capital of "+t._s(t.country)+"?\n      ")]),s("div",{staticClass:"capitals"},t._l(t.capitals,function(e,n){return s("button",{key:n,staticClass:"btn",class:"right"===e.isAnswered?"right":"wrong"===e.isAnswered?"wrong":"",attrs:{disabled:t.end},on:{click:function(e){t.answer(n)}}},[t._v(t._s(e.name))])}))])])])},oe=[];function ae(t){n("tSvh")}var ie=!1,re=ae,ce="data-v-515c0c9e",le=null,ue=Object(l["a"])(ne,se,oe,ie,re,ce,le),de=ue.exports,me={data:function(){return{countries:[],game:{count:0,attempts:5,score:0,right_answers:0},animation:!1,attempts_animation:!1,right:!1,capitals:[],guessedCountries:[]}},created:function(){!this.$route.params.sort&&localStorage.getItem("guessed")&&(this.guessedCountries=JSON.parse(localStorage.getItem("guessed")).guessedCountries,this.game.score=JSON.parse(localStorage.getItem("guessed")).score,this.game.right_answers=this.guessedCountries.length);for(var t=0;t<this.geojson.length;t++)this.guessedCountries.includes(this.geojson[t].properties.name)||this.countries.push({name:this.geojson[t].properties.name,capital:this.geojson[t].properties.capital});this.countries.sort(this.compareRandom)},mounted:function(){this.stopLoader()},props:{mode:{type:String,required:!0},geojson:{required:!0},stopLoader:{type:Function}},methods:{onEachFeature:function(t,e){var n=this;!this.$route.params.sort&&this.guessedCountries.includes(e.feature.properties.name)?e.setStyle({fillColor:this.randomColor()}):(e.bindPopup(e.feature.properties.name),e.on("click",function(){n.show(e)},this))},show:function(t){this.capitals=[],t.feature.properties.name===this.countries[this.game.count].name?(this.makeCapitals(),this.right=!0,this.game.score++,this.game.right_answers++,t.setStyle({fillColor:this.randomColor()}),t.off("click")):(this.attempts_animation=!0,this.game.attempts--,0===this.game.attempts&&(this.animation=!0,this.countries.push(this.countries[this.game.count]),this.game.count++,this.game.attempts=5,this.game.score--))},makeCapitals:function(){while(this.capitals.length<3){var t=Math.floor(Math.random()*this.countries.length);this.capitals.indexOf(t)>-1||this.countries[t].capital!==this.countries[this.game.count].capital&&this.capitals.push({name:this.countries[t].capital,isAnswered:!1})}this.capitals.push({name:this.countries[this.game.count].capital,isAnswered:!1}),this.capitals.sort(this.compareRandom)},checkCapital:function(t){t&&this.game.score++,this.right=!1,this.animation=!0,this.guessedCountries.push(this.countries[this.game.count].name),this.game.count++,this.game.count!==this.countries.length?(this.game.attempts=5,this.$route.params.sort||localStorage.setItem("guessed",JSON.stringify({guessedCountries:this.guessedCountries,score:this.game.score}))):localStorage.removeItem("guessed")},compareRandom:function(){return Math.random()-.5},randomColor:function(){return"rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")},endAnime:function(){this.animation=!1},endAttemptsAnime:function(){this.attempts_animation=!1}},components:{Map:ee,Modal:Lt,Capital:de}},he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"map"}},[t.right?n("Capital",{attrs:{country:t.countries[t.game.count].name,capitals:t.capitals,rightCapital:t.countries[t.game.count].capital,check:t.checkCapital}}):t._e(),t.game.count===t.countries.length?n("Modal",{attrs:{mode:t.mode,reason:"win",score:t.game.score}}):n("div",{staticClass:"notification",class:t.animation?"animation":"",on:{animationend:t.endAnime,webkitAnimationEnd:t.endAnime,msAnimationEnd:t.endAnime,mozAnimationEnd:t.endAnime}},[n("p",[n("span",{staticClass:"bold"},[t._v(t._s(t.game.right_answers))]),t._v(" of "+t._s(t.geojson.length))]),t.game.count!==t.countries.length?n("div",{staticClass:"country"},[t._v("\n      "+t._s(t.countries[t.game.count].name)+"\n    ")]):t._e(),n("div",{staticClass:"digits"},[t._v("\n      Score: "+t._s(t.game.score)+"\n      "),n("span",{staticClass:"attempts"},[t._v("\n        Attempts: \n        "),n("span",{class:t.attempts_animation?"attempts_animation":"",on:{animationend:t.endAttemptsAnime,webkitAnimationEnd:t.endAttemptsAnime,msAnimationEnd:t.endAttemptsAnime,mozAnimationEnd:t.endAttemptsAnime}},[t._v(t._s(t.game.attempts))])])])]),n("Map",{attrs:{geojson:t.geojson,onEachFeature:t.onEachFeature}})],1)},pe=[];function ve(t){n("aYGL")}var ge=!1,fe=ve,_e="data-v-2cb96766",ye=null,Ce=Object(l["a"])(me,he,pe,ge,fe,_e,ye),be=Ce.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"holder"},["/online"===t.$route.path?n("div",{staticClass:"preloader__text"},[t._v("\n    Finding an opponent\n  ")]):t._e(),t._m(0)])},we=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preloader"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])}];function je(t){n("sgw1")}var Me=null,Se=!1,xe=je,Ee="data-v-05f5156a",$e=null,Oe=Object(l["a"])(Me,ke,we,Se,xe,Ee,$e),Ne=Oe.exports,Le={data:function(){return{geojson:[],saved:!1,loaded:!1,showLoader:!0}},created:function(){!localStorage.getItem("guessed")||this.$route.params.sort?this.getContinent():this.saved=!0},methods:{getContinent:function(){var t=this;this.$http.get("../json/full.json").then(function(e){if(t.$route.params.sort)for(var n=0;n<e.body.features.length;n++)e.body.features[n].properties.pop_est&&e.body.features[n].properties.pop_est>t.$route.params.sort&&t.geojson.push(e.body.features[n]);else t.geojson=dt()(e.body.features);t.loaded=!0},function(t){console.log(t)})},stopLoader:function(){this.showLoader=!1},getSaved:function(){this.saved=!1,this.getContinent()}},components:{SavedGame:bt,GameMode:be,Loader:Ne}},Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.saved?n("SavedGame",{attrs:{getSaved:t.getSaved}}):n("div",[n("Loader",{directives:[{name:"show",rawName:"v-show",value:t.showLoader,expression:"showLoader"}]}),t.loaded?n("GameMode",{attrs:{mode:"game",geojson:t.geojson,stopLoader:t.stopLoader}}):t._e()],1)],1)},Ae=[],De=!1,Fe=null,Ge=null,Te=null,Be=Object(l["a"])(Le,Ie,Ae,De,Fe,Ge,Te),Re=Be.exports,Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},Ue=[],He=null,ze=!1,Ye=null,Je=null,We=null,qe=Object(l["a"])(He,Pe,Ue,ze,Ye,Je,We),Ve=qe.exports,Ze={data:function(){return{geojson:[],countries:[],game:{count:0,attempts:5,score:0,right_answers:0},loaded:!1,seconds:10,interval:null,danger:!1}},created:function(){var t=this;this.getContinent(),this.interval=setInterval(function(){t.seconds--,3===t.seconds&&(t.danger=!0),0===t.seconds&&(t.game.count++,t.game.score--,t.seconds=10,t.danger=!1)},1e3)},methods:{getContinent:function(){var t=this;this.$http.get("../json/full.json").then(function(e){t.geojson=dt()(e.body.features),t.makeCountries(),t.loaded=!0},function(t){console.log(t)})},onEachFeature:function(t,e){var n=this;e.bindPopup(e.feature.properties.name),e.on("click",function(){n.show(e)},this)},show:function(t){t.feature.properties.name===this.countries[this.game.count].name?(this.game.score++,this.game.right_answers++,this.resetData(),t.setStyle({fillColor:this.randomColor()}),t.off("click")):(this.game.attempts--,0===this.game.attempts&&(this.game.score--,this.resetData()))},resetData:function(){this.game.count++,this.game.attempts=5,this.seconds=10,this.danger=!1},makeCountries:function(){for(var t=0;t<this.geojson.length;t++)this.countries.push({name:this.geojson[t].properties.name});this.countries.sort(this.compareRandom)},compareRandom:function(){return Math.random()-.5},randomColor:function(){return"rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")}},components:{Loader:Ne,Map:ee}},Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Loader",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}]}),t.loaded?n("div",{attrs:{id:"map"}},[n("div",{staticClass:"notification",class:t.danger?"danger":""},[n("p",{staticClass:"time"},[n("span",[t._v("Time: "+t._s(t.seconds))])]),n("p",{staticClass:"right-answers"},[n("span",{staticClass:"bold"},[t._v(t._s(t.game.right_answers))]),t._v(" of "+t._s(t.geojson.length))]),t.game.count!==t.countries.length?n("div",{staticClass:"country"},[t._v("\n        "+t._s(t.countries[t.game.count].name)+"\n      ")]):t._e(),n("div",{staticClass:"digits"},[t._v("\n        Score: "+t._s(t.game.score)+"\n        "),n("span",{staticClass:"attempts"},[t._v("\n          Attempts: \n          "),n("span",[t._v(t._s(t.game.attempts))])])])]),n("Map",{attrs:{geojson:t.geojson,onEachFeature:t.onEachFeature}})],1):t._e()],1)},Ke=[];function Qe(t){n("hgbZ")}var tn=!1,en=Qe,nn="data-v-13fa06ea",sn=null,on=Object(l["a"])(Ze,Xe,Ke,tn,en,nn,sn),an=on.exports,rn={data:function(){return{revenge:!1}},props:{reason:{type:String},nickname:{type:String},enemy:{type:String},score:{type:Object},colors:{type:Object}},methods:{getRevenge:function(){this.$socket.emit("revenge",this.enemy)},revengeDecision:function(t){this.$socket.emit("revengeDecision",{myName:this.nickname,opponentName:this.enemy,status:t}),t||(this.revenge=!1)}},sockets:{opponentsRevenge:function(){this.revenge=!0}}},cn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"modal-backdrop"}),s("div",{staticClass:"modal"},[s("div",{staticClass:"modal-content"},["leave"===t.reason?s("div",[t._v("\n        Your opponent has left the match\n      ")]):s("div",[t.score.my>t.score.enemy?s("div",[s("img",{attrs:{src:n("sGYy"),width:"24",height:"24"}}),t._v("\n          Congratulations, "),"/online"===t.$route.path?s("span",{class:t.colors.my+"_nick"},[t._v(t._s(t.nickname))]):t._e(),t._v("!\n          "),s("br"),t._v("\n          You win!\n          "),s("ul",{staticClass:"users"},[s("li",{staticClass:"user__score mySide",class:t.colors.my},[s("span",[t._v(t._s(t.nickname))]),s("span",[t._v(t._s(t.score.my))])]),s("li",{staticClass:"user__score",class:t.colors.enemy},[s("span",[t._v(t._s(t.enemy))]),s("span",[t._v(t._s(t.score.enemy))])])])]):t.score.my<t.score.enemy?s("div",[s("img",{attrs:{src:n("VC5H"),width:"24",height:"24"}}),t._v("\n          Sad, but true, "),"/online"===t.$route.path?s("span",{class:t.colors.my+"_nick"},[t._v(t._s(t.nickname))]):t._e(),s("br"),t._v("\n          You lose\n          "),s("ul",{staticClass:"users"},[s("li",{staticClass:"user__score",class:t.colors.enemy},[s("span",[t._v(t._s(t.enemy))]),s("span",[t._v(t._s(t.score.enemy))])]),s("li",{staticClass:"user__score mySide",class:t.colors.my},[s("span",[t._v(t._s(t.nickname))]),s("span",[t._v(t._s(t.score.my))])])])]):s("div",[s("img",{attrs:{src:n("vZAP"),width:"32",height:"32"}}),t._v("\n          Very close game!\n          "),s("br"),t._v("\n          It is a draw\n          "),s("ul",{staticClass:"users"},[s("li",{staticClass:"user__score mySide",class:t.colors.my},[s("span",[t._v(t._s(t.nickname))]),s("span",[t._v(t._s(t.score.my))])]),s("li",{staticClass:"user__score",class:t.colors.enemy},[s("span",[t._v(t._s(t.enemy))]),s("span",[t._v(t._s(t.score.enemy))])])])]),t.revenge?s("div",{staticClass:"buttons"},[s("p",[t._v(t._s(t.enemy)+" wants to get revenge")]),s("button",{staticClass:"btn--invite btn--blue",on:{click:function(e){t.revengeDecision(!0)}}},[t._v("Accept")]),s("button",{staticClass:"btn--invite btn--red",on:{click:function(e){t.revengeDecision(!1)}}},[t._v("Decline")])]):s("button",{staticClass:"btn",on:{click:t.getRevenge}},[t._v("Revenge")])])])])])},ln=[];function un(t){n("AYHs")}var dn=!1,mn=un,hn="data-v-2b359ad0",pn=null,vn=Object(l["a"])(rn,cn,ln,dn,mn,hn,pn),gn=vn.exports,fn=(n("CvWX"),{data:function(){return{searchName:"",id_pressed:null,foundUsers:[]}},props:{users:{type:Array},nickname:{type:String},randomOpponent:{type:Function},sendInvite:{type:Function},inviteSent:{type:Boolean},opponentDecline:{type:Boolean}},methods:{sortUsers:function(){this.foundUsers.length=0;for(var t=0;t<this.users.length;t++)this.users[t].startsWith(this.searchName)&&this.foundUsers.push(this.users[t])},invite:function(t,e){this.id_pressed=e,this.sendInvite(t)}},components:{HomeButton:Jt}}),_n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("HomeButton"),n("div",{staticClass:"modal-backdrop"}),n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"status"},[t.inviteSent?n("span",[t._v("Waiting for opponent's decision")]):t.opponentDecline?n("span",[t._v("The opponent has declined your invite")]):n("span",[t._v("You can find an opponent or play with random person")])]),t.users.length>1?n("div",[n("button",{staticClass:"btn",on:{click:t.randomOpponent}},[t._v("Random")]),n("ul",[n("div",{staticClass:"search"},[n("label",[t._v("Search")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"search__input",attrs:{type:"text",placeholder:"Opponent's name"},domProps:{value:t.searchName},on:{input:[function(e){e.target.composing||(t.searchName=e.target.value)},t.sortUsers]}})]),t._l(t.searchName?t.foundUsers:t.users,function(e,s){return e!==t.nickname?n("li",{key:s},[t._v("\n            "+t._s(e)+"\n            "),n("button",{staticClass:"invite",class:t.id_pressed===s&&t.inviteSent?"btn--red":"btn--blue",attrs:{disabled:t.id_pressed!==s&&t.inviteSent},on:{click:function(n){t.invite(e,s)}}},[t._v(t._s(t.id_pressed===s&&t.inviteSent?"cancel":"duel"))])]):t._e()})],2)]):n("p",[t._v("There are no online users now. You can try another mode.")])])])],1)},yn=[];function Cn(t){n("FO3C")}var bn=!1,kn=Cn,wn="data-v-32532e13",jn=null,Mn=Object(l["a"])(fn,_n,yn,bn,kn,wn,jn),Sn=Mn.exports,xn={data:function(){return{geojson:[],layers:[],countries:[],onlineUsers:[],game:{count:0,attempts:5,score:{my:0,enemy:0}},loaded:!1,seconds:10,interval:null,danger:!1,nickname:"",users:[],sideColors:{my:"",enemy:""},enemyTurn:!0,enemyGuess:!1,enemyLeft:!1,reason:"",chooseOpponent:!0,opponentDecline:!1,inviteSent:!1}},computed:{enemy:function(){var t=this;return this.users.filter(function(e){return e!==t.nickname}).toString()},invited:function(){return this.$route.params.chooseOpponent}},created:function(){this.getCookie("name")&&(this.nickname=JSON.parse(this.getCookie("name")).name,this.$socket.emit("enterOnlineMode")),this.getContinent(),"boolean"===typeof this.invited&&(this.chooseOpponent=this.invited)},beforeRouteLeave:function(t,e,n){this.game.count!==this.geojson.length?(this.$socket.emit("userLeft"),n()):n()},methods:{getContinent:function(){var t=this;this.$http.get("../json/full.json").then(function(e){t.geojson=dt()(e.body.features)},function(t){console.log(t)})},onEachFeature:function(t,e){var n=this;this.layers.push(e),e.bindPopup(e.feature.properties.name),e.on("click",function(){n.show(e)},this)},show:function(t){t.feature.properties.name===this.countries[this.game.count]?(t.setStyle({fillColor:this.sideColors.my}),t.off("click"),this.$socket.emit("countryClick",!0),this.game.score.my++,this.enemyTurn=!0,this.resetData()):(this.game.attempts--,0===this.game.attempts&&(this.$socket.emit("countryClick",!1),this.enemyTurn=!0,this.resetData()))},resetData:function(){clearInterval(this.interval),this.game.count++,this.game.count!==this.geojson.length&&(this.game.attempts=5,this.seconds=10,this.danger=!1)},getCookie:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},makeInterval:function(){var t=this;this.interval=setInterval(function(){t.seconds--,3===t.seconds&&(t.danger=!0),0===t.seconds&&(t.$socket.emit("countryClick",!1),t.enemyTurn=!0,t.resetData())},1e3)},randomOpponent:function(){this.$socket.emit("createGame",this.nickname),this.chooseOpponent=!1},sendInvite:function(t){this.inviteSent?(this.inviteSent=!1,this.$socket.emit("cancelInvite",{myName:this.nickname,opponentName:t})):(this.inviteSent=!0,this.opponentDecline=!1,this.$socket.emit("sendInvite",{myName:this.nickname,opponentName:t}))}},sockets:{getOnlineUsers:function(t){this.onlineUsers=dt()(t)},opponentsDecision:function(t){t?(this.$socket.emit("createGame",this.nickname),this.chooseOpponent=!1):(this.opponentDecline=!0,this.inviteSent=!1)},startGame:function(t){this.chooseOpponent=!1,this.users=dt()(t.users),this.countries=dt()(t.countries),this.loaded=!0,this.nickname===this.users[0]?(this.sideColors.my="blue",this.sideColors.enemy="tomato",this.enemyTurn=!1,this.makeInterval()):(this.sideColors.enemy="blue",this.sideColors.my="tomato")},checkAnswer:function(t){var e=this;if(t){for(var n=0;n<this.layers.length;n++)if(this.layers[n].feature.properties.name===this.countries[this.game.count]){this.layers[n].setStyle({fillColor:this.sideColors.enemy}),this.layers[n].off("click");break}this.game.score.enemy++,this.enemyGuess=!0,setTimeout(function(){e.enemyGuess=!1},1e3)}this.resetData(),this.game.count!==this.geojson.length&&(this.enemyTurn=!1,this.makeInterval())},endMatch:function(){this.reason="leave",this.enemyLeft=!0,clearInterval(this.interval)},revengeGame:function(t){var e=this;this.game.count=0,this.game.attempts=5,this.game.score.my=0,this.game.score.enemy=0,this.seconds=10,this.countries=dt()(t);for(var n=function(t){e.layers[t].setStyle({fillColor:"#fff"}),e.layers[t].listens("click")||e.layers[t].on("click",function(){e.show(e.layers[t])},e)},s=0;s<this.layers.length;s++)n(s);this.nickname===this.users[0]&&(this.enemyTurn=!1,this.makeInterval())}},components:{Loader:Ne,Map:ee,OnlineModal:gn,ChooseOpponent:Sn}},En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.chooseOpponent?n("ChooseOpponent",{attrs:{users:t.onlineUsers,nickname:t.nickname,randomOpponent:t.randomOpponent,sendInvite:t.sendInvite,inviteSent:t.inviteSent,opponentDecline:t.opponentDecline}}):t._e(),n("Loader",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}]}),t.enemyLeft||t.loaded&&t.game.count===t.countries.length?n("OnlineModal",{attrs:{reason:t.reason,nickname:t.nickname,enemy:t.enemy,score:t.game.score,colors:t.sideColors}}):t._e(),t.loaded&&t.enemyTurn?n("div",{staticClass:"modal-backdrop"}):t._e(),t.loaded?n("div",{attrs:{id:"map"}},[t.enemyLeft||t.game.count===t.countries.length?t._e():n("div",[t.enemyTurn?n("div",{staticClass:"notification"},[t._m(0)]):n("div",{staticClass:"notification",class:t.danger?"danger":""},[n("p",{staticClass:"time"},[n("span",[t._v("Time: "+t._s(t.seconds))])]),n("p",{staticClass:"attempts"},[n("span",[t._v("Attempts: "+t._s(t.game.attempts))])]),n("div",{staticClass:"text--big"},[t._v("\n          "+t._s(t.countries[this.game.count])+"\n        ")]),n("ul",{staticClass:"users"},t._l(t.users,function(e,s){return n("li",{key:s,staticClass:"user__score",class:e===t.nickname?"mySide":t.enemyGuess?"enemyGuess":""},[n("span",[t._v(t._s(e))]),e===t.nickname?n("span",[t._v(t._s(t.game.score.my))]):n("span",[t._v(t._s(t.game.score.enemy))])])}))])]),n("Map",{attrs:{geojson:t.geojson,onEachFeature:t.onEachFeature}})],1):t._e()],1)},$n=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text--big enemyTurn"},[t._v("Opponent's Turn"),n("span",[t._v(".")]),n("span",[t._v(".")]),n("span",[t._v(".")])])}];function On(t){n("IbWc")}var Nn=!1,Ln=On,In="data-v-59afe42d",An=null,Dn=Object(l["a"])(xn,En,$n,Nn,Ln,In,An),Fn=Dn.exports,Gn={data:function(){return{geojson:[],layers:[],countries:[],game:{count:0,attempts:5,score:{my:0,enemy:0}},loaded:!1,seconds:10,interval:null,danger:!1,users:["You","Bot"],sideColors:{my:"blue",enemy:"tomato"},enemyTurn:!1,chance:0,botGuess:!1}},created:function(){this.getContinent(),this.chance=this.$route.params.chance},methods:{getContinent:function(){var t=this;this.$http.get("../json/full.json").then(function(e){t.geojson=dt()(e.body.features),t.getCountries(),t.loaded=!0,t.makeInterval()},function(t){console.log(t)})},getCountries:function(){for(var t=0;t<this.geojson.length;t++)this.countries.push(this.geojson[t].properties.name);this.countries.sort(this.compareRandom)},onEachFeature:function(t,e){var n=this;this.layers.push(e),e.bindPopup(e.feature.properties.name),e.on("click",function(){n.show(e)},this)},compareRandom:function(){return Math.random()-.5},show:function(t){t.feature.properties.name===this.countries[this.game.count]?(t.setStyle({fillColor:this.sideColors.my}),t.off("click"),this.game.score.my++,this.enemyTurn=!0,this.resetData(),this.game.count!==this.geojson.length&&this.makeBotTurn()):(this.game.attempts--,0===this.game.attempts&&(this.enemyTurn=!0,this.resetData(),this.game.count!==this.geojson.length&&this.makeBotTurn()))},resetData:function(){clearInterval(this.interval),this.game.count++,this.game.count!==this.geojson.length&&(this.game.attempts=5,this.seconds=10,this.danger=!1)},makeInterval:function(){var t=this;this.interval=setInterval(function(){t.seconds--,3===t.seconds&&(t.danger=!0),0===t.seconds&&(t.enemyTurn=!0,t.makeBotTurn(),t.resetData())},1e3)},makeBotTurn:function(){var t=this;setTimeout(function(){var e=Math.random();if(e<t.chance){for(var n=0;n<t.layers.length;n++)if(t.layers[n].feature.properties.name===t.countries[t.game.count]){t.layers[n].setStyle({fillColor:t.sideColors.enemy}),t.layers[n].off("click");break}t.game.score.enemy++,t.botGuess=!0,setTimeout(function(){t.botGuess=!1},1e3)}t.resetData(),t.game.count!==t.geojson.length&&(t.enemyTurn=!1,t.makeInterval())},2e3)}},components:{Loader:Ne,OnlineModal:gn,Map:ee}},Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Loader",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}]}),t.loaded&&t.game.count===t.geojson.length?n("OnlineModal",{attrs:{score:t.game.score,nickname:"You",enemy:"Bot",colors:t.sideColors}}):t._e(),t.loaded&&t.enemyTurn?n("div",{staticClass:"modal-backdrop"}):t._e(),t.loaded?n("div",{attrs:{id:"map"}},[t.game.count!==t.geojson.length?n("div",[t.enemyTurn?n("div",{staticClass:"notification"},[t._m(0)]):n("div",{staticClass:"notification",class:t.danger?"danger":""},[n("p",{staticClass:"time"},[n("span",[t._v("Time: "+t._s(t.seconds))])]),n("p",{staticClass:"attempts"},[n("span",[t._v("Attempts: "+t._s(t.game.attempts))])]),t.game.count!==t.geojson.length?n("div",{staticClass:"text--big"},[t._v("\n          "+t._s(t.countries[this.game.count])+"\n        ")]):t._e(),n("ul",{staticClass:"users"},[n("li",{staticClass:"user__score"},[n("span",[t._v(t._s(t.users[0]))]),n("span",[t._v(t._s(t.game.score.my))])]),n("li",{staticClass:"user__score",class:t.botGuess?"botGuess":""},[n("span",[t._v(t._s(t.users[1]))]),n("span",[t._v(t._s(t.game.score.enemy))])])])])]):t._e(),n("Map",{attrs:{geojson:t.geojson,onEachFeature:t.onEachFeature}})],1):t._e()],1)},Bn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text--big enemyTurn"},[t._v("Opponent's Turn"),n("span",[t._v(".")]),n("span",[t._v(".")]),n("span",[t._v(".")])])}];function Rn(t){n("Capp")}var Pn=!1,Un=Rn,Hn="data-v-c0af974e",zn=null,Yn=Object(l["a"])(Gn,Tn,Bn,Pn,Un,Hn,zn),Jn=Yn.exports,Wn=(n("qwQ3"),{data:function(){return{states:[],guessed:[],game:{count:0,attempts:5},layers:[],animation:!1,searchCountry:"",foundCountries:[],isMobile:!1}},props:{mode:{type:String,required:!0},geojson:{required:!0},mapOptions:{type:Object,required:!0},stopLoader:{type:Function},latlng:{type:Number},country:{type:Boolean}},created:function(){for(var t=0;t<this.geojson.length;t++)this.states.push(this.geojson[t].properties.name);this.states.sort(this.compareRandom),this.handler()},mounted:function(){this.stopLoader()},methods:{onEachFeature:function(t,e){var n=this;e.bindPopup(e.feature.properties.name+(e.feature.properties.capital?"<br>Capital - "+e.feature.properties.capital:"")),this.layers.push(e),e.on("click",function(){n.show(e)},this)},show:function(t){t.feature.properties.name===this.states[this.game.count]?(this.animation=!0,this.game.count++,this.game.attempts=5,this.guessed.push(t.feature.properties.name),t.setStyle({fillColor:this.randomColor()}),t.getElement().classList.remove("guess_me"),t.off("click"),this.searchCountry="",this.search()):(this.game.attempts--,0===this.game.attempts&&this.zoomCountry(this.states[this.game.count],!0))},compareRandom:function(){return Math.random()-.5},randomColor:function(){return"rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")},endAnime:function(){this.animation=!1},search:function(){this.foundCountries=[];for(var t=0;t<this.layers.length;t++)this.layers[t].feature.properties.name.toLowerCase().startsWith(this.searchCountry.toLowerCase())&&this.searchCountry.length>0?(this.guessed.includes(this.layers[t].feature.properties.name)||this.layers[t].setStyle({fillColor:this.randomColor()}),this.foundCountries.push(this.layers[t].feature.properties.name)):this.guessed.includes(this.layers[t].feature.properties.name)||this.layers[t].setStyle({fillColor:"#fff"});this.foundCountries.sort()},zoomCountry:function(t,e){for(var n=0;n<this.layers.length;n++)if(this.layers[n].feature.properties.name===t){e&&(this.layers[n].setStyle({fillColor:"#9BFFE6"}),this.layers[n].getElement().classList.add("guess_me")),this.$emit("zoomCountry",{lat:(this.layers[n]._bounds._northEast.lat+this.layers[n]._bounds._southWest.lat)/2,lng:(this.layers[n]._bounds._northEast.lng+this.layers[n]._bounds._southWest.lng)/2});break}this.isMobile&&(this.searchCountry="",this.foundCountries=[])},handler:function(){var t=768,e=3,n=document,s=n.body;if(!document.hidden){var o=s.getBoundingClientRect();this.isMobile=o.width-e<t}}},components:{Modal:Lt,Map:ee}}),qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"map"}},[t.game.count===t.states.length?n("Modal",{attrs:{mode:t.mode,reason:"win",score:t.game.score}}):n("div",{staticClass:"learn_notification",class:t.animation?"animation":"",on:{animationend:t.endAnime,webkitAnimationEnd:t.endAnime,msAnimationEnd:t.endAnime,mozAnimationEnd:t.endAnime}},[t._v("\n    "+t._s(t.states[t.game.count])+"\n    "),n("p",[n("span",{staticClass:"bold"},[t._v(t._s(t.game.count))]),t._v(" of "+t._s(t.states.length))]),n("div",{staticClass:"search"},[n("label",{staticClass:"search__label"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCountry,expression:"searchCountry"}],staticClass:"search__input",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchCountry},on:{input:[function(e){e.target.composing||(t.searchCountry=e.target.value)},t.search]}})]),t.foundCountries.length>0?n("div",{staticClass:"found"},t._l(t.foundCountries,function(e,s){return n("div",{key:s,staticClass:"found__country",on:{click:function(n){t.zoomCountry(e)}}},[t._v(t._s(e))])})):t._e()]),n("Map",{attrs:{geojson:t.geojson,onEachFeature:t.onEachFeature,mapOptions:t.mapOptions}})],1)},Vn=[];function Zn(t){n("x9yX")}var Xn=!1,Kn=Zn,Qn="data-v-f4bbf906",ts=null,es=Object(l["a"])(Wn,qn,Vn,Xn,Kn,Qn,ts),ns=es.exports,ss={data:function(){return{geojson:[],options:{},loaded:!1,showLoader:!0}},props:{mode:{type:String}},created:function(){this.latlng&&(this.options=At()({},this.latlng)),this.getContinent(),this.getOptions()},computed:{name:function(){return this.$route.params.name?this.$route.params.name:"full"},latlng:function(){return this.$route.params.latlng},country:function(){return!!this.$route.params.country&&this.$route.params.country}},methods:{stopLoader:function(){this.showLoader=!1},getContinent:function(){var t=this;this.$http.get("../json/".concat(this.name,".json")).then(function(e){t.geojson=dt()(e.body.features),t.loaded=!0},function(t){console.log(t)})},getOptions:function(){switch(this.name){case"full":this.options={zoom:2,center:[0,0],maxBounds:[[90,-180],[-60,225]]};break;case"europe":this.options={zoom:3,center:[60,60],maxBounds:[[90,-180],[-30,220]]};break;case"asia":this.options={zoom:3,center:[30,120],maxBounds:[[60,-30],[-30,220]]};break;case"africa":this.options={zoom:3,center:[0,30],maxBounds:[[60,-30],[-60,90]]};break;case"na":this.options={zoom:3,center:[50,-150],maxBounds:[[90,-200],[-20,0]]};break;case"sa":this.options={zoom:3,center:[-60,-120],maxBounds:[[20,-150],[-60,20]]};break;case"oceania":this.options={zoom:4,center:[-30,150],maxBounds:[[30,-180],[-60,225]]};break}}},components:{LearnMode:ns,Loader:Ne}},os=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Loader",{directives:[{name:"show",rawName:"v-show",value:t.showLoader,expression:"showLoader"}]}),t.loaded?n("LearnMode",{attrs:{mode:t.mode,geojson:t.geojson,mapOptions:t.options,stopLoader:t.stopLoader,country:t.country}}):t._e()],1)},as=[],is=!1,rs=null,cs=null,ls=null,us=Object(l["a"])(ss,os,as,is,rs,cs,ls),ds=us.exports,ms={data:function(){return{geojson:[],loaded:!1}},created:function(){this.createGeo()},methods:{createGeo:function(){var t=this;this.$http.get("../json/continents.json").then(function(e){t.geojson=dt()(e.body.features),t.loaded=!0},function(t){console.log(t)})},onEachFeature:function(t,e){e.setStyle({fillColor:this.randomColor()}),e.on("click",function(){mo.push({name:"Subject",params:{name:e.feature.properties.continent.replace(/ /g,"").toLowerCase()}})})},randomColor:function(){return"rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")}},components:{Loader:Ne,Map:ee}},hs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Loader",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}]}),n("div",{staticClass:"learn_notification"},[t._v("\n    Choose Continent\n  ")]),t.loaded?n("div",{attrs:{id:"map"}},[n("Map",{attrs:{geojson:t.geojson,onEachFeature:t.onEachFeature}})],1):t._e()],1)},ps=[];function vs(t){n("WARi")}var gs=!1,fs=vs,_s="data-v-d7090cb0",ys=null,Cs=Object(l["a"])(ms,hs,ps,gs,fs,_s,ys),bs=Cs.exports,ks={data:function(){return{geojson:[],loaded:!1}},created:function(){this.createGeo()},methods:{createGeo:function(){var t=this;this.$http.get("../json/region.json").then(function(e){t.geojson=dt()(e.body.features),t.loaded=!0},function(t){console.log(t)})},onEachFeature:function(t,e){var n=this;e.setStyle({fillColor:this.randomColor()}),e.on("click",function(){n.changeRoute(e)})},changeRoute:function(t){mo.push({name:"Subject",params:{name:t.feature.properties.name.replace(/ /g,"").toLowerCase(),country:!0,latlng:{center:t.getCenter(),maxBounds:[t._bounds.getNorthEast(),t._bounds.getSouthWest()],zoom:4}}})},randomColor:function(){return"rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")}},components:{Loader:Ne,Map:ee}},ws=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Loader",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}]}),n("div",{staticClass:"learn_notification"},[t._v("\n    Choose Country\n  ")]),t.loaded?n("div",{attrs:{id:"map"}},[n("Map",{attrs:{geojson:t.geojson,onEachFeature:t.onEachFeature}})],1):t._e()],1)},js=[];function Ms(t){n("UrBx")}var Ss=!1,xs=Ms,Es="data-v-d0f7aa34",$s=null,Os=Object(l["a"])(ks,ws,js,Ss,xs,Es,$s),Ns=Os.exports,Ls=(n("Hl+4"),n("WpTh"),{data:function(){return{end:!1}},props:{country:{type:Object},close:{type:Function}},filters:{formatString:function(t){return t.substring(3)},formatNumber:function(t){var e=+t;return e/1e9>1?"".concat((e/1e9).toFixed(2)," B"):e/1e6>1?"".concat((e/1e6).toFixed(2)," M"):e/1e3>1?"".concat((e/1e3).toFixed(2)," K"):e.toFixed(2)}},computed:{shortName:function(){return this.country.name.replace(/ /g,"").toLowerCase()}},methods:{closeModal:function(){var t=this;this.end=!0,setTimeout(function(){t.close()},600)}}}),Is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"modal-backdrop",on:{click:t.closeModal}}),s("div",{staticClass:"modal",class:t.end?"end":"start"},[s("div",{staticClass:"modal-content"},[s("img",{staticClass:"cancel",attrs:{src:n("/hsv")},on:{click:function(e){return e.preventDefault(),t.closeModal(e)}}}),s("h3",[t._v(t._s(t.country.name))]),s("img",{staticClass:"flag",attrs:{src:"../img/flags/"+t.shortName+".svg"}}),s("table",[s("tr",[s("td",[t._v("Full name")]),s("td",[t._v(t._s(t.country.formal_en?t.country.formal_en:t.country.name))])]),s("tr",[s("td",[t._v("Capital")]),s("td",[t._v(t._s(t.country.capital))])]),s("tr",[s("td",[t._v("Language")]),s("td",[t._v(t._s(t.country.language))])]),s("tr",[s("td",[t._v("Continent")]),s("td",[t._v(t._s(t.country.continent))])]),s("tr",[s("td",[t._v("Region")]),s("td",[t._v(t._s(t.country.region_wb))])]),s("tr",[s("td",[t._v("Subregion")]),s("td",[t._v(t._s(t.country.subregion))])]),s("tr",[s("td",[t._v("Type")]),s("td",[t._v(t._s(t.country.type))])]),s("tr",[s("td",[t._v("Government")]),s("td",[t._v(t._s(t.country.government))])]),-99!==t.country.pop_est?s("tr",[s("td",[t._v("Population")]),s("td",[t._v(t._s(t._f("formatNumber")(t.country.pop_est)))])]):t._e(),s("tr",[s("td",[t._v("Population Density")]),s("td",[t._v(t._s(t.country.density)+" per km"),s("sup",[t._v("2")])])]),s("tr",[s("td",[t._v("Life expectancy")]),s("td",[t._v(t._s(t.country.expectancy)+" years")])]),s("tr",[s("td",[t._v("Currency")]),s("td",[t._v(t._s(t.country.currency))])]),s("tr",[s("td",[t._v("Economy")]),s("td",[t._v(t._s(t._f("formatString")(t.country.economy)))])]),s("tr",[s("td",[t._v("Income group")]),s("td",[t._v(t._s(t._f("formatString")(t.country.income_grp)))])]),-99!==t.country.gdp?s("tr",[s("td",[t._v("Gross Domestic Product Per Capita")]),s("td",[t._v("$"+t._s(t._f("formatNumber")(t.country.gdp)))])]):t._e(),s("tr",[s("td",[t._v("Average Elevation")]),s("td",[t._v(t._s(t.country.elevation))])]),s("tr",[s("td",[t._v("Average Temperature")]),s("td",[t._v(t._s(t.country.temperature)+" °C")])]),-99!=t.country.iso_a2?s("tr",[s("td",[t._v("ISO 2")]),s("td",[t._v(t._s(t.country.iso_a2))])]):t._e(),-99!=t.country.iso_a3?s("tr",[s("td",[t._v("ISO 3")]),s("td",[t._v(t._s(t.country.iso_a3))])]):t._e(),t.country.symbol?s("tr",[s("td",[t._v("National Symbol")]),s("td",[t._v(t._s(t.country.symbol))])]):t._e(),t.country.dish?s("tr",[s("td",[t._v("National Dish")]),s("td",[t._v(t._s(t.country.dish))])]):t._e()])]),s("div",{staticClass:"gradient"})])])},As=[];function Ds(t){n("kNRh")}var Fs=!1,Gs=Ds,Ts="data-v-57015425",Bs=null,Rs=Object(l["a"])(Ls,Is,As,Fs,Gs,Ts,Bs),Ps=Rs.exports,Us={data:function(){return{geojson:[],layers:[],sortedGeojson:[],loaded:!1,isClicked:!1,selectedCountry:{},sort:{pop_est:"",gdp:"",expectancy:"",density:""},searchCountry:"",error:!1,openNotification:!1,isMobile:!1}},created:function(){this.createGeo(),this.handler()},methods:{createGeo:function(){var t=this;this.$http.get("../json/map.json").then(function(e){t.geojson=dt()(e.body.features),t.$http.get("../json/custom.json").then(function(e){t.geojson=[t.geojson[0]].concat(dt()(e.body.features)),t.sortedGeojson=dt()(t.geojson),t.loaded=!0},function(t){console.log(t)})},function(t){console.log(t)})},onEachFeature:function(t,e){var n=this;"world"!==e.feature.properties.name?(this.layers.push(e),e.setStyle({fillColor:this.randomColor()}),e.on("click",function(){n.selectedCountry=e.feature.properties,n.isClicked=!0})):e.setStyle({stroke:!1})},randomColor:function(){return"rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")},closeModal:function(){this.isClicked=!1},sortBy:function(t){for(var e in this.sortedGeojson=[this.geojson[0]],this.sort)e!==t&&(this.sort[e]="");if("all"===this.sort[t])this.sortedGeojson=dt()(this.geojson);else if("max"===this.sort[t]){var n=Math.max.apply(Math,this.geojson.map(function(e){return e.properties[t]?+e.properties[t]:0}));this.sortedGeojson.push(this.geojson.find(function(e){return+e.properties[t]==n}))}else if("min"===this.sort[t]){var s=Math.min.apply(Math,this.geojson.map(function(e){return e.properties[t]?+e.properties[t]:9999999}));this.sortedGeojson.push(this.geojson.find(function(e){return+e.properties[t]==s}))}else if(-1===Math.sign(this.sort[t]))for(var o=0;o<this.geojson.length;o++)+this.geojson[o].properties[t]<Math.abs(this.sort[t])&&this.sortedGeojson.push(this.geojson[o]);else for(var a=0;a<this.geojson.length;a++)+this.geojson[a].properties[t]>this.sort[t]&&this.sortedGeojson.push(this.geojson[a])},search:function(){for(var t=0;t<this.layers.length;t++){if(this.layers[t].feature.properties.name.toLowerCase()===this.searchCountry.toLowerCase()){this.error=!1,this.layers[t].fire("click");break}t===this.layers.length-1&&(this.error=!0)}},checkError:function(){this.error&&(this.error=!1)},handler:function(){var t=768,e=3,n=document,s=n.body;if(!document.hidden){var o=s.getBoundingClientRect();this.isMobile=o.width-e<t}}},components:{Loader:Ne,DetailsModal:Ps,Map:ee}},Hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Loader",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}]}),t.isClicked?s("DetailsModal",{attrs:{country:t.selectedCountry,close:t.closeModal}}):t._e(),s("div",{staticClass:"learn_notification"},[s("div",{staticClass:"selectors",class:t.openNotification?"opened":""},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.sort.pop_est,expression:"sort.pop_est"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.sort,"pop_est",e.target.multiple?n:n[0])},function(e){t.sortBy("pop_est")}]}},[s("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v("Population")]),s("option",{attrs:{value:"all"}},[t._v("All")]),s("option",{attrs:{value:"-1000000"}},[t._v("Less 1 m")]),s("option",{attrs:{value:"-2000000"}},[t._v("Less 2 m")]),s("option",{attrs:{value:"-5000000"}},[t._v("Less 5 m")]),s("option",{attrs:{value:"5000000"}},[t._v("More 5 m")]),s("option",{attrs:{value:"10000000"}},[t._v("More 10 m")]),s("option",{attrs:{value:"50000000"}},[t._v("More 50 m")]),s("option",{attrs:{value:"100000000"}},[t._v("More 100 m")]),s("option",{attrs:{value:"min"}},[t._v("Min")]),s("option",{attrs:{value:"max"}},[t._v("Max")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.sort.gdp,expression:"sort.gdp"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.sort,"gdp",e.target.multiple?n:n[0])},function(e){t.sortBy("gdp")}]}},[s("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v("GDP")]),s("option",{attrs:{value:"all"}},[t._v("All")]),s("option",{attrs:{value:"-1000"}},[t._v("Less 1 k")]),s("option",{attrs:{value:"-2000"}},[t._v("Less 2 k")]),s("option",{attrs:{value:"-5000"}},[t._v("Less 5 k")]),s("option",{attrs:{value:"5000"}},[t._v("More 5 k")]),s("option",{attrs:{value:"10000"}},[t._v("More 10 k")]),s("option",{attrs:{value:"20000"}},[t._v("More 20 k")]),s("option",{attrs:{value:"min"}},[t._v("Min")]),s("option",{attrs:{value:"max"}},[t._v("Max")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.sort.expectancy,expression:"sort.expectancy"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.sort,"expectancy",e.target.multiple?n:n[0])},function(e){t.sortBy("expectancy")}]}},[s("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v("Life")]),s("option",{attrs:{value:"all"}},[t._v("All")]),s("option",{attrs:{value:"-40"}},[t._v("Less 40 years")]),s("option",{attrs:{value:"-50"}},[t._v("Less 50 years")]),s("option",{attrs:{value:"50"}},[t._v("More 50 years")]),s("option",{attrs:{value:"60"}},[t._v("More 60 years")]),s("option",{attrs:{value:"70"}},[t._v("More 70 years")]),s("option",{attrs:{value:"min"}},[t._v("Min")]),s("option",{attrs:{value:"max"}},[t._v("Max")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.sort.density,expression:"sort.density"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.sort,"density",e.target.multiple?n:n[0])},function(e){t.sortBy("density")}]}},[s("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v("Density")]),s("option",{attrs:{value:"all"}},[t._v("All")]),s("option",{attrs:{value:"-10"}},[t._v("Less 10")]),s("option",{attrs:{value:"-50"}},[t._v("Less 50")]),s("option",{attrs:{value:"-100"}},[t._v("Less 100")]),s("option",{attrs:{value:"100"}},[t._v("More 100")]),s("option",{attrs:{value:"200"}},[t._v("More 200")]),s("option",{attrs:{value:"min"}},[t._v("Min")]),s("option",{attrs:{value:"max"}},[t._v("Max")])]),s("form",{staticClass:"search",on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[t.error?s("div",{staticClass:"error"},[t._v("no such country")]):t._e(),s("label",{staticClass:"search__label"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCountry,expression:"searchCountry"}],attrs:{type:"text",placeholder:"Country"},domProps:{value:t.searchCountry},on:{input:[function(e){e.target.composing||(t.searchCountry=e.target.value)},t.checkError]}}),s("input",{staticClass:"btn",attrs:{type:"submit",value:"Search"}})]),t.isMobile?t._e():s("div",{staticClass:"count"},[t._v("Amount - "+t._s(t.sortedGeojson.length-1))])]),s("div",{staticClass:"opener",on:{click:function(e){t.openNotification=!t.openNotification}}},[s("img",{class:t.openNotification?"rotate":"",attrs:{src:n("EHx1"),width:"16",height:"16"}})])]),t.loaded?s("div",{attrs:{id:"map"}},[s("Map",{attrs:{geojson:t.sortedGeojson,onEachFeature:t.onEachFeature}})],1):t._e()],1)},zs=[];function Ys(t){n("tITk")}var Js=!1,Ws=Ys,qs="data-v-39d80926",Vs=null,Zs=Object(l["a"])(Us,Hs,zs,Js,Ws,qs,Vs),Xs=Zs.exports,Ks=n("GDE4"),Qs=n.n(Ks),to={data:function(){return{world:[],geojson:[],options:{slider:{width:"80%",tooltip:"always",lazy:!0,disabled:!1,piecewise:!0,piecewiseLabel:!0,style:{"margin-left":"10%"},data:["2000 BC","1000 BC","500 BC","200 BC","1 BC","400","600","800","1000","1279","1492","1530","1650","1715","1783","1815","1880","1914","1920","1938","1945","1994"],piecewiseStyle:{backgroundColor:"#fff",visibility:"visible",width:"12px",height:"12px"},piecewiseActiveStyle:{backgroundColor:"#3498db"},labelActiveStyle:{color:"#3498db"},bgStyle:{backgroundColor:"#fff",boxShadow:"inset 0 0 3px rgba(0,0,0,.36)"}}},loaded:!1,history:"2000 BC",playPressed:!1,interval:void 0,isMobile:!1,count:0}},created:function(){this.handler(),this.createMap()},methods:{createMap:function(){var t=this;this.$http.get("../json/map.json").then(function(e){t.world=dt()(e.body.features),t.createGeo()},function(t){console.log(t)})},createGeo:function(){var t=this,e=this.history.replace(" ","").toLowerCase();this.count=this.options.slider.data.indexOf(this.history),this.$http.get("../json/history/".concat(e,".json")).then(function(e){t.geojson=[t.world[0]].concat(dt()(e.body.features)),t.loaded=!0},function(t){console.log(t)})},onEachFeature:function(t,e){"world"!==e.feature.properties.name?(e.setStyle({fillColor:this.randomColor()}),e.bindPopup(e.feature.properties.name)):e.setStyle({stroke:!1})},randomColor:function(){return"rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")},playHistory:function(){var t=this;this.isMobile&&!this.playPressed?(this.playPressed=!0,this.interval=setInterval(function(){t.count++,t.count>t.options.slider.data.length-1?clearInterval(t.interval):(t.history=t.options.slider.data[t.count],t.createGeo())},2e3)):this.playPressed?this.interval&&(this.playPressed=!1,clearInterval(this.interval)):(this.playPressed=!0,this.$refs.slider.setIndex(this.$refs.slider.getIndex()+1),this.interval=setInterval(function(){if(21===t.$refs.slider.getIndex())return clearInterval(t.interval),void(t.playPressed=!1);t.$refs.slider.setIndex(t.$refs.slider.getIndex()+1)},2e3))},handler:function(){var t=768,e=3,n=document,s=n.body;if(!document.hidden){var o=s.getBoundingClientRect();this.isMobile=o.width-e<t}}},components:{Loader:Ne,vueSlider:Qs.a,Map:ee}},eo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Loader",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}]}),t.isMobile?n("div",{staticClass:"selecter"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.history,expression:"history"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.history=e.target.multiple?n:n[0]},t.createGeo]}},t._l(t.options.slider.data,function(e,s){return n("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])})),n("img",{staticClass:"btn-history",attrs:{src:"../img/"+(t.playPressed?"stop":"play2")+".svg",width:"32",height:"32"},on:{click:t.playHistory}})]):n("div",{staticClass:"slider"},[n("vue-slider",t._b({ref:"slider",on:{callback:t.createGeo},model:{value:t.history,callback:function(e){t.history=e},expression:"history"}},"vue-slider",t.options.slider,!1)),n("img",{staticClass:"btn-history",attrs:{src:"../img/"+(t.playPressed?"stop":"play")+".svg",width:"32",height:"32"},on:{click:t.playHistory}})],1),t.loaded?n("div",{attrs:{id:"map"}},[n("Map",{attrs:{geojson:t.geojson,onEachFeature:t.onEachFeature}})],1):t._e()],1)},no=[];function so(t){n("7zsZ")}var oo=!1,ao=so,io="data-v-0f644054",ro=null,co=Object(l["a"])(to,eo,no,oo,ao,io,ro),lo=co.exports;s["a"].use(x["a"]);var uo=new x["a"]({mode:"hash",base:"/",linkActiveClass:"active",routes:[{name:"Start",path:"/",component:lt},{name:"Game",path:"/game",component:Re},{name:"Learn",path:"/learn",component:Ve,redirect:"/learn/full",children:[{path:"/learn/continent",component:bs,name:"LearnContinent"},{path:"/learn/countries",component:Ns,name:"LearnCountry"},{path:"/learn/details",component:Xs,name:"CountryDetails",props:{mode:"details"}},{path:"/learn/history",component:lo,name:"CountryHistory"},{path:"/learn/:name",component:ds,name:"Subject",props:{mode:"learn"}}]},{name:"Hard",path:"/hard",component:an},{name:"Online",path:"/online",component:Fn},{name:"Bot",path:"/bot",component:Jn},{path:"*",redirect:"/"}]}),mo=uo,ho=n("8+8L"),po=n("1mcD"),vo=n.n(po);s["a"].use(vo.a),s["a"].use(ho["a"]),s["a"].router=mo,s["a"].config.productionTip=!1,new s["a"]({router:mo,render:function(t){return t(S)}}).$mount("#app")},OWUD:function(t,e){},SGXc:function(t,e,n){t.exports=n.p+"img/question-mark.885ff8fd.svg"},UrBx:function(t,e){},VC5H:function(t,e,n){t.exports=n.p+"img/cross.6524033e.svg"},WARi:function(t,e){},aYGL:function(t,e){},bDHe:function(t,e){},fkd6:function(t,e){},hKTw:function(t,e){},hgbZ:function(t,e){},kNRh:function(t,e){},sGYy:function(t,e,n){t.exports=n.p+"img/correct-symbol.657dcff3.svg"},sgw1:function(t,e){},tITk:function(t,e){},tSvh:function(t,e){},uKhV:function(t,e){},vZAP:function(t,e,n){t.exports=n.p+"img/draw.5ddabc99.svg"},wTyE:function(t,e){},x9yX:function(t,e){}},[0]);
//# sourceMappingURL=app.681c3503.js.map